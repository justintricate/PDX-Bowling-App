<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Find the best bowling deals in Portland area. Compare prices, specials, and calculate drive times to local bowling alleys."
    />
    <title>Team JaM Bowling Options - Portland Area Bowling Deal Finder</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé≥</text></svg>"
    />
    <link rel="stylesheet" href="src/style.css" />
  </head>
  <body>
    <div id="app-wrapper">
      <h1>üé≥ Team JaM Bowling Options</h1>

      <div class="controls-container">
        <div class="controls-row">
          <div class="control-group">
            <label for="day">Day:</label>
            <select id="day" aria-label="Select day of the week">
              <option value="Sun">Sunday</option>
              <option value="Mon">Monday</option>
              <option value="Tue">Tuesday</option>
              <option value="Wed">Wednesday</option>
              <option value="Thu">Thursday</option>
              <option value="Fri">Friday</option>
              <option value="Sat">Saturday</option>
            </select>
          </div>
          <div class="control-group">
            <label for="timeFilterStart">Time Window:</label>
            <select
              id="timeFilterStart"
              aria-label="Select start time"
            ></select>
            <span class="time-range-separator" aria-hidden="true">to</span>
            <select id="timeFilterEnd" aria-label="Select end time"></select>
          </div>
          <div class="control-group">
            <label for="numPlayers">Players:</label>
            <input
              type="number"
              id="numPlayers"
              value="2"
              min="1"
              max="50"
              aria-label="Number of players"
            />
            <label for="numGames">Games:</label>
            <input
              type="number"
              id="numGames"
              value="4"
              min="1"
              max="20"
              aria-label="Number of games per player"
            />
          </div>
          <div class="control-group">
            <label for="paceSelect">Pace:</label>
            <select id="paceSelect" aria-label="Select bowling pace">
              <option value="normal">Normal (10 min/game)</option>
              <option value="leisurely">Leisurely (15 min/game)</option>
            </select>
          </div>
        </div>
        <div class="controls-row">
          <div class="control-group">
            <label for="startAddress">Address:</label>
            <input
              type="text"
              id="startAddress"
              value="Portland OR 97239"
              aria-label="Starting address for drive time calculation"
            />
            <button id="driveTimeButton" class="action-button" type="button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                aria-hidden="true"
              >
                <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6" />
                <line x1="8" x2="8" y1="2" y2="18" />
                <line x1="16" x2="16" y1="6" y2="22" />
              </svg>
              <span>Get Drive Times</span>
            </button>
          </div>
          <button
            id="week-comparison-button"
            class="action-button"
            type="button"
            aria-label="Compare best deals across the week"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
            >
              <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
              <line x1="16" x2="16" y1="2" y2="6" />
              <line x1="8" x2="8" y1="2" y2="6" />
              <line x1="3" x2="21" y1="10" y2="10" />
            </svg>
            <span>Week Comparison</span>
          </button>
          <button
            id="share-button"
            class="action-button"
            type="button"
            aria-label="Share current settings"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
            >
              <line x1="22" x2="11" y1="2" y2="13" />
              <polygon points="22 2 15 22 11 13 2 9 22 2" />
            </svg>
            <span>Share</span>
          </button>
          <div class="theme-switch-wrapper">
            <label
              class="theme-switch"
              for="theme-toggle-checkbox"
              aria-label="Toggle dark mode"
            >
              <input type="checkbox" id="theme-toggle-checkbox" />
              <span class="slider">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="sun-icon"
                  aria-hidden="true"
                >
                  <circle cx="12" cy="12" r="5" />
                  <line x1="12" x2="12" y1="1" y2="3" />
                  <line x1="12" x2="12" y1="21" y2="23" />
                  <line x1="4.22" x2="5.64" y1="4.22" y2="5.64" />
                  <line x1="18.36" x2="19.78" y1="18.36" y2="19.78" />
                  <line x1="1" x2="3" y1="12" y2="12" />
                  <line x1="21" x2="23" y1="12" y2="12" />
                  <line x1="4.22" x2="5.64" y1="19.78" y2="18.36" />
                  <line x1="18.36" x2="19.78" y1="5.64" y2="4.22" />
                </svg>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="moon-icon"
                  aria-hidden="true"
                >
                  <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                </svg>
              </span>
            </label>
          </div>
        </div>
      </div>

      <div id="calculator-result" role="status" aria-live="polite"></div>
      <div id="sort-status-indicator" role="status" aria-live="polite"></div>
      <div
        id="results"
        class="table-container"
        role="region"
        aria-label="Bowling prices table"
      ></div>

      <div class="specials-key-wrapper">
        <section id="specials-container" aria-labelledby="specials-heading">
          <h2 id="specials-heading">Specials for Today</h2>
        </section>
        <aside id="legend-container" aria-labelledby="legend-heading">
          <h3 id="legend-heading">Deal Indicator Key</h3>
          <div class="legend-item">
            <span class="legend-emoji" aria-hidden="true">‚ÄºÔ∏è</span>
            <span class="legend-text">Best Cost of the Week</span>
          </div>
          <div class="legend-item">
            <span class="legend-emoji" aria-hidden="true">üö´</span>
            <span class="legend-text">Worst Cost of the Week</span>
          </div>
          <div class="legend-item">
            <span class="legend-emoji" aria-hidden="true">‚≠ê</span>
            <span class="legend-text">Best Cost of the Day</span>
          </div>
          <div class="legend-item">
            <span class="legend-emoji" aria-hidden="true">üí≤</span>
            <span class="legend-text"
              >Alley has a Timed Special (check tooltip)</span
            >
          </div>
        </aside>
      </div>

      <div
        id="drive-time-prompt"
        class="drive-prompt"
        role="status"
        aria-live="polite"
      >
        <p>
          <strong>Want smarter results?</strong> Calculate drive times to
          automatically hide slots you can't make in time.
        </p>
        <button
          id="close-prompt-btn"
          type="button"
          aria-label="Dismiss drive time prompt"
        >
          &times;
        </button>
      </div>

      <!-- Week Comparison Modal -->
      <div
        id="week-comparison-modal"
        class="modal"
        aria-hidden="true"
        role="dialog"
        aria-labelledby="modal-title"
        aria-modal="true"
      >
        <div class="modal-backdrop" aria-hidden="true"></div>
        <div class="modal-content">
          <button
            id="close-modal-btn"
            class="modal-close"
            type="button"
            aria-label="Close modal"
          >
            &times;
          </button>
          <div class="modal-content-inner">
            <!-- Content populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
